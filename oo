import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class HistoricalFactsApp extends JFrame {
    private List<String> historicalFacts;
    private List<JLabel> factLabels;
    private JButton button;

    public HistoricalFactsApp() {
        historicalFacts = new ArrayList<>();
        historicalFacts.add("Fact 1");
        historicalFacts.add("Fact 2");
        historicalFacts.add("Fact 3");
        historicalFacts.add("Fact 4");
        historicalFacts.add("Fact 5");
        historicalFacts.add("Fact 6");
        historicalFacts.add("Fact 7");

        factLabels = new ArrayList<>();
        for (int i = 0; i < 5; i++) {
            JLabel label = new JLabel();
            label.setAlignmentX(Component.CENTER_ALIGNMENT);
            factLabels.add(label);
            add(label);
        }
        updateLabels();

        button = new JButton("Next Fact");
        button.setAlignmentX(Component.CENTER_ALIGNMENT);
        button.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                Random rand = new Random();
                int randomIndexToRemove = rand.nextInt(5);
                int randomIndexToAdd;
                do {
                    randomIndexToAdd = rand.nextInt(historicalFacts.size());
                } while (factLabels.get(randomIndexToRemove).getText().equals(historicalFacts.get(randomIndexToAdd)));

                JLabel newLabel = new JLabel(historicalFacts.get(randomIndexToAdd));
                newLabel.setAlignmentX(Component.CENTER_ALIGNMENT);

                factLabels.set(randomIndexToRemove, newLabel);
                updateLabels();

                revalidate();
                repaint();
            }
        });
        add(button);

        setLayout(new BoxLayout(getContentPane(), BoxLayout.Y_AXIS));
        setSize(400, 300);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null); // Center the JFrame on the screen
        setVisible(true);
    }

    private void updateLabels() {
        for (int i = 0; i < 5; i++) {
            String fact = factLabels.get(i).getText();
            if (fact == null || fact.isEmpty()) {
                Random rand = new Random();
                int randomIndexToAdd;
                do {
                    randomIndexToAdd = rand.nextInt(historicalFacts.size());
                } while (factLabels.stream().anyMatch(label -> label.getText().equals(historicalFacts.get(randomIndexToAdd))));

                factLabels.get(i).setText(historicalFacts.get(randomIndexToAdd));
            }
        }
    }

    public static void main(String[] args) {
        new HistoricalFactsApp();
    }
}
